define(['react'], (function (react) { 'use strict';

  var shareIcon = "widgets/incentro/pwaoverlayforios/assets/05d1ba3297328798.svg";

  function PWAOverlayForiOS({
    instructionCanBeClosed,
    instructionClosed,
    infoText,
    instructionTextStart,
    instructionTextEnd
  }) {
    const isIos = () => {
      const userAgent = window.navigator.userAgent.toLowerCase();
      return /iphone|ipad|ipod/.test(userAgent);
    };
    const isInStandaloneMode = () => 'standalone' in window.navigator && window.navigator.standalone; // Detects if device is in standalone mode
    const [hideOverlay, setHideOverlay] = react.useState(null);
    function handleClick() {
      setHideOverlay(true);
      instructionClosed.setValue(true);
    }
    react.useEffect(() => {
      if (document.documentElement.classList) {
        if (document.documentElement.classList.contains('dj_safari')) {
          if (isIos() && !isInStandaloneMode()) {
            const pwaContainer = document.querySelector('.ios-pwa');
            pwaContainer?.classList.add('ios-pwa--visible');
          }
        }
      }
    });
    react.useEffect(() => {
      if (instructionClosed && instructionClosed.status === 'available') {
        if (instructionClosed.value === true) {
          setHideOverlay(true);
        } else {
          setHideOverlay(false);
        }
      }
    }, [instructionClosed]);
    if (hideOverlay && hideOverlay === true) {
      return react.createElement("div", {
        className: "ios-pwa-hidden"
      });
    } else {
      return react.createElement("div", {
        className: "ios-pwa"
      }, react.createElement("p", {
        className: "ios-pwa__text"
      }, infoText.value), react.createElement("div", {
        className: "ios-pwa__bottom"
      }, react.createElement("span", null, instructionTextStart.value), react.createElement("img", {
        className: "ios-pwa__icon",
        src: shareIcon,
        alt: "share icon"
      }), react.createElement("span", null, instructionTextEnd.value)), instructionCanBeClosed && react.createElement("a", {
        className: "ios-pwa__close",
        onClick: handleClick
      }, react.createElement("svg", {
        viewBox: "0 0 12 12",
        xmlns: "http://www.w3.org/2000/svg"
      }, react.createElement("path", {
        fill: "#5D5D5D",
        d: "M9.78807 11.0466L6 7.25855L2.21193 11.0466C1.79524 11.4633 1.11339 11.4633 0.696699 11.0466C0.280011 10.6299 0.280012 9.94808 0.696699 9.53139L4.48477 5.74332L0.696699 1.95525C0.280012 1.53856 0.280011 0.856708 0.696699 0.44002C1.11339 0.0233315 1.79524 0.0233315 2.21193 0.440019L6 4.22809L9.78807 0.440019C10.2048 0.0233315 10.8866 0.0233315 11.3033 0.44002C11.72 0.856708 11.72 1.53856 11.3033 1.95525L7.51523 5.74332L11.3033 9.53139C11.72 9.94808 11.72 10.6299 11.3033 11.0466C10.8866 11.4633 10.2048 11.4633 9.78807 11.0466Z"
      }))));
    }
  }

  return PWAOverlayForiOS;

}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUFdBT3ZlcmxheUZvcmlPUy5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL3NoYXJlSWNvbi5zdmciLCIuLi8uLi8uLi8uLi8uLi9zcmMvUFdBT3ZlcmxheUZvcmlPUy5qc3giXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCJ3aWRnZXRzL2luY2VudHJvL3B3YW92ZXJsYXlmb3Jpb3MvYXNzZXRzLzA1ZDFiYTMyOTczMjg3OTguc3ZnXCIiLCJpbXBvcnQgJy4vdWkvUFdBT3ZlcmxheUZvcmlPUy5jc3MnO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudCwgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBzaGFyZUljb24gZnJvbSAnLi9zaGFyZUljb24uc3ZnJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUFdBT3ZlcmxheUZvcmlPUyh7XG4gIGluc3RydWN0aW9uQ2FuQmVDbG9zZWQsXG4gIGluc3RydWN0aW9uQ2xvc2VkLFxuICBpbmZvVGV4dCxcbiAgaW5zdHJ1Y3Rpb25UZXh0U3RhcnQsXG4gIGluc3RydWN0aW9uVGV4dEVuZCxcbn0pIHtcbiAgY29uc3QgaXNJb3MgPSAoKSA9PiB7XG4gICAgY29uc3QgdXNlckFnZW50ID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gL2lwaG9uZXxpcGFkfGlwb2QvLnRlc3QodXNlckFnZW50KTtcbiAgfTtcbiAgY29uc3QgaXNJblN0YW5kYWxvbmVNb2RlID0gKCkgPT5cbiAgICAnc3RhbmRhbG9uZScgaW4gd2luZG93Lm5hdmlnYXRvciAmJiB3aW5kb3cubmF2aWdhdG9yLnN0YW5kYWxvbmU7IC8vIERldGVjdHMgaWYgZGV2aWNlIGlzIGluIHN0YW5kYWxvbmUgbW9kZVxuICBjb25zdCBbaGlkZU92ZXJsYXksIHNldEhpZGVPdmVybGF5XSA9IHVzZVN0YXRlKG51bGwpO1xuXG4gIGZ1bmN0aW9uIGhhbmRsZUNsaWNrKCkge1xuICAgIHNldEhpZGVPdmVybGF5KHRydWUpO1xuICAgIGluc3RydWN0aW9uQ2xvc2VkLnNldFZhbHVlKHRydWUpO1xuICB9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdCkge1xuICAgICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2RqX3NhZmFyaScpKSB7XG4gICAgICAgIGlmIChpc0lvcygpICYmICFpc0luU3RhbmRhbG9uZU1vZGUoKSkge1xuICAgICAgICAgIGNvbnN0IHB3YUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pb3MtcHdhJyk7XG4gICAgICAgICAgcHdhQ29udGFpbmVyPy5jbGFzc0xpc3QuYWRkKCdpb3MtcHdhLS12aXNpYmxlJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGluc3RydWN0aW9uQ2xvc2VkICYmIGluc3RydWN0aW9uQ2xvc2VkLnN0YXR1cyA9PT0gJ2F2YWlsYWJsZScpIHtcbiAgICAgIGlmIChpbnN0cnVjdGlvbkNsb3NlZC52YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICBzZXRIaWRlT3ZlcmxheSh0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldEhpZGVPdmVybGF5KGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtpbnN0cnVjdGlvbkNsb3NlZF0pO1xuXG4gIGlmIChoaWRlT3ZlcmxheSAmJiBoaWRlT3ZlcmxheSA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT0naW9zLXB3YS1oaWRkZW4nPjwvZGl2PjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9J2lvcy1wd2EnPlxuICAgICAgICA8cCBjbGFzc05hbWU9J2lvcy1wd2FfX3RleHQnPntpbmZvVGV4dC52YWx1ZX08L3A+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdpb3MtcHdhX19ib3R0b20nPlxuICAgICAgICAgIDxzcGFuPntpbnN0cnVjdGlvblRleHRTdGFydC52YWx1ZX08L3NwYW4+XG4gICAgICAgICAgPGltZyBjbGFzc05hbWU9J2lvcy1wd2FfX2ljb24nIHNyYz17c2hhcmVJY29ufSBhbHQ9J3NoYXJlIGljb24nIC8+XG4gICAgICAgICAgPHNwYW4+e2luc3RydWN0aW9uVGV4dEVuZC52YWx1ZX08L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7aW5zdHJ1Y3Rpb25DYW5CZUNsb3NlZCAmJiAoXG4gICAgICAgICAgPGEgY2xhc3NOYW1lPSdpb3MtcHdhX19jbG9zZScgb25DbGljaz17aGFuZGxlQ2xpY2t9PlxuICAgICAgICAgICAgPHN2ZyB2aWV3Qm94PScwIDAgMTIgMTInIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+XG4gICAgICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICAgICAgZmlsbD0nIzVENUQ1RCdcbiAgICAgICAgICAgICAgICBkPSdNOS43ODgwNyAxMS4wNDY2TDYgNy4yNTg1NUwyLjIxMTkzIDExLjA0NjZDMS43OTUyNCAxMS40NjMzIDEuMTEzMzkgMTEuNDYzMyAwLjY5NjY5OSAxMS4wNDY2QzAuMjgwMDExIDEwLjYyOTkgMC4yODAwMTIgOS45NDgwOCAwLjY5NjY5OSA5LjUzMTM5TDQuNDg0NzcgNS43NDMzMkwwLjY5NjY5OSAxLjk1NTI1QzAuMjgwMDEyIDEuNTM4NTYgMC4yODAwMTEgMC44NTY3MDggMC42OTY2OTkgMC40NDAwMkMxLjExMzM5IDAuMDIzMzMxNSAxLjc5NTI0IDAuMDIzMzMxNSAyLjIxMTkzIDAuNDQwMDE5TDYgNC4yMjgwOUw5Ljc4ODA3IDAuNDQwMDE5QzEwLjIwNDggMC4wMjMzMzE1IDEwLjg4NjYgMC4wMjMzMzE1IDExLjMwMzMgMC40NDAwMkMxMS43MiAwLjg1NjcwOCAxMS43MiAxLjUzODU2IDExLjMwMzMgMS45NTUyNUw3LjUxNTIzIDUuNzQzMzJMMTEuMzAzMyA5LjUzMTM5QzExLjcyIDkuOTQ4MDggMTEuNzIgMTAuNjI5OSAxMS4zMDMzIDExLjA0NjZDMTAuODg2NiAxMS40NjMzIDEwLjIwNDggMTEuNDYzMyA5Ljc4ODA3IDExLjA0NjZaJ1xuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgPC9hPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIlBXQU92ZXJsYXlGb3JpT1MiLCJpbnN0cnVjdGlvbkNhbkJlQ2xvc2VkIiwiaW5zdHJ1Y3Rpb25DbG9zZWQiLCJpbmZvVGV4dCIsImluc3RydWN0aW9uVGV4dFN0YXJ0IiwiaW5zdHJ1Y3Rpb25UZXh0RW5kIiwiaXNJb3MiLCJ1c2VyQWdlbnQiLCJ3aW5kb3ciLCJuYXZpZ2F0b3IiLCJ0b0xvd2VyQ2FzZSIsInRlc3QiLCJpc0luU3RhbmRhbG9uZU1vZGUiLCJzdGFuZGFsb25lIiwiaGlkZU92ZXJsYXkiLCJzZXRIaWRlT3ZlcmxheSIsInVzZVN0YXRlIiwiaGFuZGxlQ2xpY2siLCJzZXRWYWx1ZSIsInVzZUVmZmVjdCIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJwd2FDb250YWluZXIiLCJxdWVyeVNlbGVjdG9yIiwiYWRkIiwic3RhdHVzIiwidmFsdWUiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwic3JjIiwic2hhcmVJY29uIiwiYWx0Iiwib25DbGljayIsInZpZXdCb3giLCJ4bWxucyIsImZpbGwiLCJkIl0sIm1hcHBpbmdzIjoiOztBQUFBLGtCQUFlOztFQ0lBLFNBQVNBLGdCQUFnQkEsQ0FBQztJQUN2Q0Msc0JBQXNCO0lBQ3RCQyxpQkFBaUI7SUFDakJDLFFBQVE7SUFDUkMsb0JBQW9CO0VBQ3BCQyxFQUFBQSxrQkFBQUE7RUFDRixDQUFDLEVBQUU7SUFDRCxNQUFNQyxLQUFLLEdB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
