import { useState, useEffect, createElement } from 'react';

var shareIcon = "widgets/incentro/pwaoverlayforios/assets/05d1ba3297328798.svg";

function PWAOverlayForiOS({
  instructionCanBeClosed,
  instructionClosed,
  infoText,
  instructionTextStart,
  instructionTextEnd
}) {
  const isIos = () => {
    const userAgent = window.navigator.userAgent.toLowerCase();
    return /iphone|ipad|ipod/.test(userAgent);
  };
  const isInStandaloneMode = () => 'standalone' in window.navigator && window.navigator.standalone; // Detects if device is in standalone mode
  const [hideOverlay, setHideOverlay] = useState(null);
  function handleClick() {
    setHideOverlay(true);
    instructionClosed.setValue(true);
  }
  useEffect(() => {
    if (document.documentElement.classList) {
      if (document.documentElement.classList.contains('dj_safari')) {
        if (isIos() && !isInStandaloneMode()) {
          const pwaContainer = document.querySelector('.ios-pwa');
          pwaContainer?.classList.add('ios-pwa--visible');
        }
      }
    }
  });
  useEffect(() => {
    if (instructionClosed && instructionClosed.status === 'available') {
      if (instructionClosed.value === true) {
        setHideOverlay(true);
      } else {
        setHideOverlay(false);
      }
    }
  }, [instructionClosed]);
  if (hideOverlay && hideOverlay === true) {
    return createElement("div", {
      className: "ios-pwa-hidden"
    });
  } else {
    return createElement("div", {
      className: "ios-pwa"
    }, createElement("p", {
      className: "ios-pwa__text"
    }, infoText.value), createElement("div", {
      className: "ios-pwa__bottom"
    }, createElement("span", null, instructionTextStart.value), createElement("img", {
      className: "ios-pwa__icon",
      src: shareIcon,
      alt: "share icon"
    }), createElement("span", null, instructionTextEnd.value)), instructionCanBeClosed && createElement("a", {
      className: "ios-pwa__close",
      onClick: handleClick
    }, createElement("svg", {
      viewBox: "0 0 12 12",
      xmlns: "http://www.w3.org/2000/svg"
    }, createElement("path", {
      fill: "#5D5D5D",
      d: "M9.78807 11.0466L6 7.25855L2.21193 11.0466C1.79524 11.4633 1.11339 11.4633 0.696699 11.0466C0.280011 10.6299 0.280012 9.94808 0.696699 9.53139L4.48477 5.74332L0.696699 1.95525C0.280012 1.53856 0.280011 0.856708 0.696699 0.44002C1.11339 0.0233315 1.79524 0.0233315 2.21193 0.440019L6 4.22809L9.78807 0.440019C10.2048 0.0233315 10.8866 0.0233315 11.3033 0.44002C11.72 0.856708 11.72 1.53856 11.3033 1.95525L7.51523 5.74332L11.3033 9.53139C11.72 9.94808 11.72 10.6299 11.3033 11.0466C10.8866 11.4633 10.2048 11.4633 9.78807 11.0466Z"
    }))));
  }
}

export { PWAOverlayForiOS as default };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUFdBT3ZlcmxheUZvcmlPUy5tanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9zaGFyZUljb24uc3ZnIiwiLi4vLi4vLi4vLi4vLi4vc3JjL1BXQU92ZXJsYXlGb3JpT1MuanN4Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwid2lkZ2V0cy9pbmNlbnRyby9wd2FvdmVybGF5Zm9yaW9zL2Fzc2V0cy8wNWQxYmEzMjk3MzI4Nzk4LnN2Z1wiIiwiaW1wb3J0ICcuL3VpL1BXQU92ZXJsYXlGb3JpT1MuY3NzJztcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnQsIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgc2hhcmVJY29uIGZyb20gJy4vc2hhcmVJY29uLnN2Zyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBXQU92ZXJsYXlGb3JpT1Moe1xuICBpbnN0cnVjdGlvbkNhbkJlQ2xvc2VkLFxuICBpbnN0cnVjdGlvbkNsb3NlZCxcbiAgaW5mb1RleHQsXG4gIGluc3RydWN0aW9uVGV4dFN0YXJ0LFxuICBpbnN0cnVjdGlvblRleHRFbmQsXG59KSB7XG4gIGNvbnN0IGlzSW9zID0gKCkgPT4ge1xuICAgIGNvbnN0IHVzZXJBZ2VudCA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIC9pcGhvbmV8aXBhZHxpcG9kLy50ZXN0KHVzZXJBZ2VudCk7XG4gIH07XG4gIGNvbnN0IGlzSW5TdGFuZGFsb25lTW9kZSA9ICgpID0+XG4gICAgJ3N0YW5kYWxvbmUnIGluIHdpbmRvdy5uYXZpZ2F0b3IgJiYgd2luZG93Lm5hdmlnYXRvci5zdGFuZGFsb25lOyAvLyBEZXRlY3RzIGlmIGRldmljZSBpcyBpbiBzdGFuZGFsb25lIG1vZGVcbiAgY29uc3QgW2hpZGVPdmVybGF5LCBzZXRIaWRlT3ZlcmxheV0gPSB1c2VTdGF0ZShudWxsKTtcblxuICBmdW5jdGlvbiBoYW5kbGVDbGljaygpIHtcbiAgICBzZXRIaWRlT3ZlcmxheSh0cnVlKTtcbiAgICBpbnN0cnVjdGlvbkNsb3NlZC5zZXRWYWx1ZSh0cnVlKTtcbiAgfVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkal9zYWZhcmknKSkge1xuICAgICAgICBpZiAoaXNJb3MoKSAmJiAhaXNJblN0YW5kYWxvbmVNb2RlKCkpIHtcbiAgICAgICAgICBjb25zdCBwd2FDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW9zLXB3YScpO1xuICAgICAgICAgIHB3YUNvbnRhaW5lcj8uY2xhc3NMaXN0LmFkZCgnaW9zLXB3YS0tdmlzaWJsZScpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpbnN0cnVjdGlvbkNsb3NlZCAmJiBpbnN0cnVjdGlvbkNsb3NlZC5zdGF0dXMgPT09ICdhdmFpbGFibGUnKSB7XG4gICAgICBpZiAoaW5zdHJ1Y3Rpb25DbG9zZWQudmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgc2V0SGlkZU92ZXJsYXkodHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRIaWRlT3ZlcmxheShmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbaW5zdHJ1Y3Rpb25DbG9zZWRdKTtcblxuICBpZiAoaGlkZU92ZXJsYXkgJiYgaGlkZU92ZXJsYXkgPT09IHRydWUpIHtcbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9J2lvcy1wd2EtaGlkZGVuJz48L2Rpdj47XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdpb3MtcHdhJz5cbiAgICAgICAgPHAgY2xhc3NOYW1lPSdpb3MtcHdhX190ZXh0Jz57aW5mb1RleHQudmFsdWV9PC9wPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0naW9zLXB3YV9fYm90dG9tJz5cbiAgICAgICAgICA8c3Bhbj57aW5zdHJ1Y3Rpb25UZXh0U3RhcnQudmFsdWV9PC9zcGFuPlxuICAgICAgICAgIDxpbWcgY2xhc3NOYW1lPSdpb3MtcHdhX19pY29uJyBzcmM9e3NoYXJlSWNvbn0gYWx0PSdzaGFyZSBpY29uJyAvPlxuICAgICAgICAgIDxzcGFuPntpbnN0cnVjdGlvblRleHRFbmQudmFsdWV9PC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge2luc3RydWN0aW9uQ2FuQmVDbG9zZWQgJiYgKFxuICAgICAgICAgIDxhIGNsYXNzTmFtZT0naW9zLXB3YV9fY2xvc2UnIG9uQ2xpY2s9e2hhbmRsZUNsaWNrfT5cbiAgICAgICAgICAgIDxzdmcgdmlld0JveD0nMCAwIDEyIDEyJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPlxuICAgICAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgICAgIGZpbGw9JyM1RDVENUQnXG4gICAgICAgICAgICAgICAgZD0nTTkuNzg4MDcgMTEuMDQ2Nkw2IDcuMjU4NTVMMi4yMTE5MyAxMS4wNDY2QzEuNzk1MjQgMTEuNDYzMyAxLjExMzM5IDExLjQ2MzMgMC42OTY2OTkgMTEuMDQ2NkMwLjI4MDAxMSAxMC42Mjk5IDAuMjgwMDEyIDkuOTQ4MDggMC42OTY2OTkgOS41MzEzOUw0LjQ4NDc3IDUuNzQzMzJMMC42OTY2OTkgMS45NTUyNUMwLjI4MDAxMiAxLjUzODU2IDAuMjgwMDExIDAuODU2NzA4IDAuNjk2Njk5IDAuNDQwMDJDMS4xMTMzOSAwLjAyMzMzMTUgMS43OTUyNCAwLjAyMzMzMTUgMi4yMTE5MyAwLjQ0MDAxOUw2IDQuMjI4MDlMOS43ODgwNyAwLjQ0MDAxOUMxMC4yMDQ4IDAuMDIzMzMxNSAxMC44ODY2IDAuMDIzMzMxNSAxMS4zMDMzIDAuNDQwMDJDMTEuNzIgMC44NTY3MDggMTEuNzIgMS41Mzg1NiAxMS4zMDMzIDEuOTU1MjVMNy41MTUyMyA1Ljc0MzMyTDExLjMwMzMgOS41MzEzOUMxMS43MiA5Ljk0ODA4IDExLjcyIDEwLjYyOTkgMTEuMzAzMyAxMS4wNDY2QzEwLjg4NjYgMTEuNDYzMyAxMC4yMDQ4IDExLjQ2MzMgOS43ODgwNyAxMS4wNDY2WidcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIDwvYT5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJQV0FPdmVybGF5Rm9yaU9TIiwiaW5zdHJ1Y3Rpb25DYW5CZUNsb3NlZCIsImluc3RydWN0aW9uQ2xvc2VkIiwiaW5mb1RleHQiLCJpbnN0cnVjdGlvblRleHRTdGFydCIsImluc3RydWN0aW9uVGV4dEVuZCIsImlzSW9zIiwidXNlckFnZW50Iiwid2luZG93IiwibmF2aWdhdG9yIiwidG9Mb3dlckNhc2UiLCJ0ZXN0IiwiaXNJblN0YW5kYWxvbmVNb2RlIiwic3RhbmRhbG9uZSIsImhpZGVPdmVybGF5Iiwic2V0SGlkZU92ZXJsYXkiLCJ1c2VTdGF0ZSIsImhhbmRsZUNsaWNrIiwic2V0VmFsdWUiLCJ1c2VFZmZlY3QiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwicHdhQ29udGFpbmVyIiwicXVlcnlTZWxlY3RvciIsImFkZCIsInN0YXR1cyIsInZhbHVlIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsInNyYyIsInNoYXJlSWNvbiIsImFsdCIsIm9uQ2xpY2siLCJ2aWV3Qm94IiwieG1sbnMiLCJmaWxsIiwiZCJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxnQkFBZTs7QUNJQSxTQUFTQSxnQkFBZ0JBLENBQUM7RUFDdkNDLHNCQUFzQjtFQUN0QkMsaUJBQWlCO0VBQ2pCQyxRQUFRO0VBQ1JDLG9CQUFvQjtBQUNwQkMsRUFBQUEsa0JBQUFBO0FBQ0YsQ0FBQyxFQUFFO0VBQ0QsTUFBTUMsS0FBSyxH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
