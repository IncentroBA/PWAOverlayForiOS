import { useState, useEffect, createElement } from 'react';

var shareIcon = "widgets/incentro/pwaoverlayforios/assets/05d1ba3297328798.svg";

function PWAOverlayForiOS({
  instructionCanBeClosed,
  instructionClosed,
  infoText,
  instructionTextStart,
  instructionTextEnd
}) {
  const isIos = () => {
    const userAgent = window.navigator.userAgent.toLowerCase();
    return /iphone|ipad|ipod/.test(userAgent);
  };
  const isInStandaloneMode = () => "standalone" in window.navigator && window.navigator.standalone; // Detects if device is in standalone mode
  const [hideOverlay, setHideOverlay] = useState(null);
  function handleClick() {
    setHideOverlay(true);
    instructionClosed.setValue(true);
  }
  useEffect(() => {
    if (document.documentElement.classList) {
      if (document.documentElement.classList.contains("dj_safari")) {
        if (isIos() && !isInStandaloneMode()) {
          const pwaContainer = document.querySelector(".ios-pwa");
          pwaContainer.classList.add("ios-pwa--visible");
        }
      }
    }
  });
  useEffect(() => {
    if (instructionClosed && instructionClosed === true) {
      setHideOverlay(true);
    } else if (instructionClosed && instructionClosed === false) {
      setHideOverlay(false);
    }
  });
  if (hideOverlay && hideOverlay === true) {
    return createElement("div", {
      className: "ios-pwa"
    });
  } else {
    return createElement("div", {
      className: "ios-pwa"
    }, console.info({
      hideOverlay
    }), createElement("p", {
      className: "ios-pwa__text"
    }, infoText.value), createElement("div", {
      className: "ios-pwa__bottom"
    }, createElement("span", null, instructionTextStart.value), createElement("img", {
      className: "ios-pwa__icon",
      src: shareIcon,
      alt: "share icon"
    }), createElement("span", null, instructionTextEnd.value)), instructionCanBeClosed && createElement("a", {
      className: "ios-pwa__close",
      onClick: handleClick
    }, createElement("svg", {
      viewBox: "0 0 12 12",
      xmlns: "http://www.w3.org/2000/svg"
    }, createElement("path", {
      fill: "#5D5D5D",
      d: "M9.78807 11.0466L6 7.25855L2.21193 11.0466C1.79524 11.4633 1.11339 11.4633 0.696699 11.0466C0.280011 10.6299 0.280012 9.94808 0.696699 9.53139L4.48477 5.74332L0.696699 1.95525C0.280012 1.53856 0.280011 0.856708 0.696699 0.44002C1.11339 0.0233315 1.79524 0.0233315 2.21193 0.440019L6 4.22809L9.78807 0.440019C10.2048 0.0233315 10.8866 0.0233315 11.3033 0.44002C11.72 0.856708 11.72 1.53856 11.3033 1.95525L7.51523 5.74332L11.3033 9.53139C11.72 9.94808 11.72 10.6299 11.3033 11.0466C10.8866 11.4633 10.2048 11.4633 9.78807 11.0466Z"
    }))));
  }
}

export { PWAOverlayForiOS as default };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUFdBT3ZlcmxheUZvcmlPUy5tanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9zaGFyZUljb24uc3ZnIiwiLi4vLi4vLi4vLi4vLi4vc3JjL1BXQU92ZXJsYXlGb3JpT1MuanN4Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwid2lkZ2V0cy9pbmNlbnRyby9wd2FvdmVybGF5Zm9yaW9zL2Fzc2V0cy8wNWQxYmEzMjk3MzI4Nzk4LnN2Z1wiIiwiaW1wb3J0IFwiLi91aS9QV0FPdmVybGF5Rm9yaU9TLmNzc1wiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudCwgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHNoYXJlSWNvbiBmcm9tIFwiLi9zaGFyZUljb24uc3ZnXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBXQU92ZXJsYXlGb3JpT1Moe1xuICAgIGluc3RydWN0aW9uQ2FuQmVDbG9zZWQsXG4gICAgaW5zdHJ1Y3Rpb25DbG9zZWQsXG4gICAgaW5mb1RleHQsXG4gICAgaW5zdHJ1Y3Rpb25UZXh0U3RhcnQsXG4gICAgaW5zdHJ1Y3Rpb25UZXh0RW5kXG59KSB7XG4gICAgY29uc3QgaXNJb3MgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHVzZXJBZ2VudCA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHJldHVybiAvaXBob25lfGlwYWR8aXBvZC8udGVzdCh1c2VyQWdlbnQpO1xuICAgIH07XG4gICAgY29uc3QgaXNJblN0YW5kYWxvbmVNb2RlID0gKCkgPT4gXCJzdGFuZGFsb25lXCIgaW4gd2luZG93Lm5hdmlnYXRvciAmJiB3aW5kb3cubmF2aWdhdG9yLnN0YW5kYWxvbmU7IC8vIERldGVjdHMgaWYgZGV2aWNlIGlzIGluIHN0YW5kYWxvbmUgbW9kZVxuICAgIGNvbnN0IFtoaWRlT3ZlcmxheSwgc2V0SGlkZU92ZXJsYXldID0gdXNlU3RhdGUobnVsbCk7XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVDbGljaygpIHtcbiAgICAgICAgc2V0SGlkZU92ZXJsYXkodHJ1ZSk7XG4gICAgICAgIGluc3RydWN0aW9uQ2xvc2VkLnNldFZhbHVlKHRydWUpO1xuICAgIH1cblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0KSB7XG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImRqX3NhZmFyaVwiKSkge1xuICAgICAgICAgICAgICAgIGlmIChpc0lvcygpICYmICFpc0luU3RhbmRhbG9uZU1vZGUoKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwd2FDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmlvcy1wd2FcIik7XG4gICAgICAgICAgICAgICAgICAgIHB3YUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiaW9zLXB3YS0tdmlzaWJsZVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0cnVjdGlvbkNsb3NlZCAmJiBpbnN0cnVjdGlvbkNsb3NlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgc2V0SGlkZU92ZXJsYXkodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb25DbG9zZWQgJiYgaW5zdHJ1Y3Rpb25DbG9zZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBzZXRIaWRlT3ZlcmxheShmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChoaWRlT3ZlcmxheSAmJiBoaWRlT3ZlcmxheSA9PT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJpb3MtcHdhXCI+PC9kaXY+O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImlvcy1wd2FcIj5cbiAgICAgICAgICAgICAgICB7Y29uc29sZS5pbmZvKHsgaGlkZU92ZXJsYXkgfSl9XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiaW9zLXB3YV9fdGV4dFwiPntpbmZvVGV4dC52YWx1ZX08L3A+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpb3MtcHdhX19ib3R0b21cIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+e2luc3RydWN0aW9uVGV4dFN0YXJ0LnZhbHVlfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzc05hbWU9XCJpb3MtcHdhX19pY29uXCIgc3JjPXtzaGFyZUljb259IGFsdD1cInNoYXJlIGljb25cIiAvPlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj57aW5zdHJ1Y3Rpb25UZXh0RW5kLnZhbHVlfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICB7aW5zdHJ1Y3Rpb25DYW5CZUNsb3NlZCAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzTmFtZT1cImlvcy1wd2FfX2Nsb3NlXCIgb25DbGljaz17aGFuZGxlQ2xpY2t9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyB2aWV3Qm94PVwiMCAwIDEyIDEyXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw9XCIjNUQ1RDVEXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZD1cIk05Ljc4ODA3IDExLjA0NjZMNiA3LjI1ODU1TDIuMjExOTMgMTEuMDQ2NkMxLjc5NTI0IDExLjQ2MzMgMS4xMTMzOSAxMS40NjMzIDAuNjk2Njk5IDExLjA0NjZDMC4yODAwMTEgMTAuNjI5OSAwLjI4MDAxMiA5Ljk0ODA4IDAuNjk2Njk5IDkuNTMxMzlMNC40ODQ3NyA1Ljc0MzMyTDAuNjk2Njk5IDEuOTU1MjVDMC4yODAwMTIgMS41Mzg1NiAwLjI4MDAxMSAwLjg1NjcwOCAwLjY5NjY5OSAwLjQ0MDAyQzEuMTEzMzkgMC4wMjMzMzE1IDEuNzk1MjQgMC4wMjMzMzE1IDIuMjExOTMgMC40NDAwMTlMNiA0LjIyODA5TDkuNzg4MDcgMC40NDAwMTlDMTAuMjA0OCAwLjAyMzMzMTUgMTAuODg2NiAwLjAyMzMzMTUgMTEuMzAzMyAwLjQ0MDAyQzExLjcyIDAuODU2NzA4IDExLjcyIDEuNTM4NTYgMTEuMzAzMyAxLjk1NTI1TDcuNTE1MjMgNS43NDMzMkwxMS4zMDMzIDkuNTMxMzlDMTEuNzIgOS45NDgwOCAxMS43MiAxMC42Mjk5IDExLjMwMzMgMTEuMDQ2NkMxMC44ODY2IDExLjQ2MzMgMTAuMjA0OCAxMS40NjMzIDkuNzg4MDcgMTEuMDQ2NlpcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiUFdBT3ZlcmxheUZvcmlPUyIsImluc3RydWN0aW9uQ2FuQmVDbG9zZWQiLCJpbnN0cnVjdGlvbkNsb3NlZCIsImluZm9UZXh0IiwiaW5zdHJ1Y3Rpb25UZXh0U3RhcnQiLCJpbnN0cnVjdGlvblRleHRFbmQiLCJpc0lvcyIsInVzZXJBZ2VudCIsIndpbmRvdyIsIm5hdmlnYXRvciIsInRvTG93ZXJDYXNlIiwidGVzdCIsImlzSW5TdGFuZGFsb25lTW9kZSIsInN0YW5kYWxvbmUiLCJoaWRlT3ZlcmxheSIsInNldEhpZGVPdmVybGF5IiwidXNlU3RhdGUiLCJoYW5kbGVDbGljayIsInNldFZhbHVlIiwidXNlRWZmZWN0IiwiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInB3YUNvbnRhaW5lciIsInF1ZXJ5U2VsZWN0b3IiLCJhZGQiLCJjb25zb2xlIiwiaW5mbyIsInZhbHVlIiwic2hhcmVJY29uIl0sIm1hcHBpbmdzIjoiOztBQUFBLGdCQUFlOztBQ0lBLFNBQVNBLGdCQUFnQixDQUFDO0VBQ3JDQyxzQkFBc0I7RUFDdEJDLGlCQUFpQjtFQUNqQkMsUUFBUTtFQUNSQyxvQkFBb0I7QUFDcEJDLEVBQUFBLGtCQUFBQTtBQUNKLENBQUMsRUFBRTtFQUNDLE1BQU1DLEtBQUssR0FBRyxNQUFNO0lBQ2hCLE1BQU1DLFNBQVMsR0FBR0MsTUFBTSxDQUFDQyxTQUFTLENBQUNGLFNBQVMsQ0FBQ0csV0FBVyxFQUFFLENBQUE7QUFDMUQsSUFBQSxPQUFPLGtCQUFrQixDQUFDQyxJQUFJLENBQUNKLFNBQVMsQ0FBQyxDQUFBO0dBQzVDLENBQUE7QUFDRCxFQUFBLE1BQU1LLGtCQUFrQixHQUFHLE1BQU0sWUFBWSxJQUFJSixNQUFNLENBQUNDLFNBQVMsSUFBSUQsTUFBTSxDQUFDQyxTQUFTLENBQUNJLFVBQVUsQ0FBQztFQUNqRyxNQUFNLENBQUNDLFdBQVcsRUFBRUMsY0FBYyxDQUFDLEdBQUdDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQTtBQUVwRCxFQUFBLFNBQVNDLFdBQVcsR0FBRztJQUNuQkYsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFBO0FBQ3BCYixJQUFBQSxpQkFBaUIsQ0FBQ2dCLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQTtBQUNwQyxHQUFBO0FBRUFDLEVBQUFBLFNBQVMsQ0FBQyxNQUFNO0FBQ1osSUFBQSxJQUFJQyxRQUFRLENBQUNDLGVBQWUsQ0FBQ0MsU0FBUyxFQUFFO01BQ3BDLElBQUlGLFFBQVEsQ0FBQ0MsZUFBZSxDQUFDQyxTQUFTLENBQUNDLFFBQVEsQ0FBQyxXQUFXLENBQUMsRUFBRTtBQUMxRCxRQUFBLElBQUlqQixLQUFLLEVBQUUsSUFBSSxDQUFDTSxrQkFBa0IsRUFBRSxFQUFFO0FBQ2xDLFVBQUEsTUFBTVksWUFBWSxHQUFHSixRQUFRLENBQUNLLGFBQWEsQ0FBQyxVQUFVLENBQUMsQ0FBQTtBQUN2REQsVUFBQUEsWUFBWSxDQUFDRixTQUFTLENBQUNJLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFBO0FBQ2xELFNBQUE7QUFDSixPQUFBO0FBQ0osS0FBQTtBQUNKLEdBQUMsQ0FBQyxDQUFBO0FBRUZQLEVBQUFBLFNBQVMsQ0FBQyxNQUFNO0FBQ1osSUFBQSxJQUFJakIsaUJBQWlCLElBQUlBLGlCQUFpQixLQUFLLElBQUksRUFBRTtNQUNqRGEsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFBO0FBQ3hCLEtBQUMsTUFBTSxJQUFJYixpQkFBaUIsSUFBSUEsaUJBQWlCLEtBQUssS0FBSyxFQUFFO01BQ3pEYSxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUE7QUFDekIsS0FBQTtBQUNKLEdBQUMsQ0FBQyxDQUFBO0FBRUYsRUFBQSxJQUFJRCxXQUFXLElBQUlBLFdBQVcsS0FBSyxJQUFJLEVBQUU7SUFDckMsT0FBTyxhQUFBLENBQUEsS0FBQSxFQUFBO0FBQUssTUFBQSxTQUFTLEVBQUMsU0FBQTtLQUFnQixDQUFBLENBQUE7QUFDMUMsR0FBQyxNQUFNO0lBQ0gsT0FDSSxhQUFBLENBQUEsS0FBQSxFQUFBO0FBQUssTUFBQSxTQUFTLEVBQUMsU0FBQTtLQUNWYSxFQUFBQSxPQUFPLENBQUNDLElBQUksQ0FBQztBQUFFZCxNQUFBQSxXQUFBQTtBQUFZLEtBQUMsQ0FBQyxFQUM5QixhQUFBLENBQUEsR0FBQSxFQUFBO0FBQUcsTUFBQSxTQUFTLEVBQUMsZUFBQTtBQUFlLEtBQUEsRUFBRVgsUUFBUSxDQUFDMEIsS0FBSyxDQUFLLEVBQ2pELGFBQUEsQ0FBQSxLQUFBLEVBQUE7QUFBSyxNQUFBLFNBQVMsRUFBQyxpQkFBQTtBQUFpQixLQUFBLEVBQzVCLGFBQU96QixDQUFBQSxNQUFBQSxFQUFBQSxJQUFBQSxFQUFBQSxvQkFBb0IsQ0FBQ3lCLEtBQUssQ0FBUSxFQUN6QyxhQUFBLENBQUEsS0FBQSxFQUFBO0FBQUssTUFBQSxTQUFTLEVBQUMsZUFBZTtBQUFDLE1BQUEsR0FBRyxFQUFFQyxTQUFVO0FBQUMsTUFBQSxHQUFHLEVBQUMsWUFBQTtLQUFlLENBQUEsRUFDbEUsNEJBQU96QixrQkFBa0IsQ0FBQ3dCLEtBQUssQ0FBUSxDQUNyQyxFQUNMNUIsc0JBQXNCLElBQ25CLGFBQUEsQ0FBQSxHQUFBLEVBQUE7QUFBRyxNQUFBLFNBQVMsRUFBQyxnQkFBZ0I7QUFBQyxNQUFBLE9BQU8sRUFBRWdCLFdBQUFBO0tBQ25DLEVBQUEsYUFBQSxDQUFBLEtBQUEsRUFBQTtBQUFLLE1BQUEsT0FBTyxFQUFDLFdBQVc7QUFBQyxNQUFBLEtBQUssRUFBQyw0QkFBQTtLQUMzQixFQUFBLGFBQUEsQ0FBQSxNQUFBLEVBQUE7QUFDSSxNQUFBLElBQUksRUFBQyxTQUFTO0FBQ2QsTUFBQSxDQUFDLEVBQUMsbWhCQUFBO0tBQ0osQ0FBQSxDQUNBLENBRWIsQ0FDQyxDQUFBO0FBRWQsR0FBQTtBQUNKOzs7OyJ9
